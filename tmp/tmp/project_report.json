{
  "generated_at": "2025-09-23T08:38:05",
  "project_root": "C:\\DATA\\PROJECTS\\assistchat",
  "summary": {
    "has_docker_compose": true,
    "has_alembic_ini": true,
    "has_src_app": true,
    "has_src_alembic": true,
    "requirements_txt": true
  },
  "git": {
    "branch": "development",
    "last_commit": "a6fb922ea601f75703e9e99d07290a77995d8989",
    "dirty": true
  },
  "python": {
    "requirements": [
      "fastapi==0.116.2",
      "uvicorn[standard]==0.30.1",
      "SQLAlchemy==2.0.31",
      "psycopg[binary]==3.2.9",
      "alembic==1.16.5",
      "pydantic-settings==2.4.0",
      "Jinja2==3.1.6",
      "python-dotenv>=1.0",
      "aiogram == 3.21.0",
      "openai == 1.99.9",
      "langid == 1.1.6",
      "PyYAML==6.0.2",
      "Telethon==1.40.0",
      "starlette==0.47.2",
      "qrcode==8.2",
      "django-qrcode==0.3",
      "pillow==11.2.1",
      "bcrypt==4.0.1",
      "passlib==1.7.4",
      "itsdangerous>=2.2,<3",
      "python-multipart==0.0.19",
      "authlib==1.3.1",
      "auto-i18n-lib==0.1.0",
      "requests==2.32.4"
    ]
  },
  "env": {
    ".env_keys": [
      "ENV",
      "SESSION_SECRET",
      "DB_USER",
      "DB_PASSWORD",
      "DB_NAME",
      "DB_HOST",
      "DB_PORT",
      "OPENAI_API_KEY",
      "TELEGRAM_BOT_TOKEN",
      "TELEGRAM_ADMIN_ID",
      "AVITO_CLIENT_ID",
      "AVITO_CLIENT_SECRET",
      "TELEGRAM_API_ID",
      "TELEGRAM_API_HASH",
      "TELEGRAM_PHONE_NUMBER",
      "BONAPLUS_API_ID",
      "BONAPLUS_API_HASH",
      "BONAPLUS_PHONE_NUMBER",
      "DOMAIN_NAME",
      "KEYWORDS_DOC_ID",
      "TOPICS_DOC_ID",
      "HISTORY_LIMIT",
      "REPLY_VOICE",
      "REPLY_TEXT_ALWAYS",
      "STT_MODEL",
      "TTS_MODEL",
      "TTS_VOICE",
      "TTS_FORMAT",
      "TMP_DIR",
      "STYLE_PROFILE_PATH",
      "GOOGLE_CLIENT_ID",
      "GOOGLE_CLIENT_SECRET",
      "DOMAIN_NAME",
      "HF_TOKEN",
      "DEEPGRAM_API_KEY"
    ],
    ".env_example_keys": [
      "ENV",
      "SESSION_SECRET",
      "DB_USER",
      "DB_PASSWORD",
      "DB_NAME",
      "DB_HOST",
      "DB_PORT",
      "OPENAI_API_KEY",
      "TELEGRAM_BOT_TOKEN",
      "TELEGRAM_ADMIN_ID",
      "TELEGRAM_API_ID",
      "TELEGRAM_API_HASH",
      "TELEGRAM_PHONE_NUMBER",
      "BONAPLUS_API_ID",
      "BONAPLUS_API_HASH",
      "BONAPLUS_PHONE_NUMBER",
      "DOMAIN_NAME",
      "KEYWORDS_DOC_ID",
      "TOPICS_DOC_ID",
      "HISTORY_LIMIT",
      "REPLY_VOICE",
      "REPLY_TEXT_ALWAYS",
      "STT_MODEL",
      "TTS_MODEL",
      "TTS_VOICE",
      "TTS_FORMAT",
      "TMP_DIR",
      "STYLE_PROFILE_PATH",
      "GOOGLE_CLIENT_ID",
      "GOOGLE_CLIENT_SECRET",
      "DOMAIN_NAME",
      "HF_TOKEN",
      "DEEPGRAM_API_KEY"
    ],
    "present_files": [
      ".env",
      ".env.example"
    ]
  },
  "docker_compose": {
    "raw_keys": [
      "name",
      "services",
      "volumes"
    ],
    "services": {
      "web": {
        "image": "assistchat-api",
        "build": {
          "context": ".",
          "dockerfile": "docker/app/Dockerfile"
        },
        "ports": [
          "8000:8000"
        ],
        "env_file": ".env",
        "environment_keys": null,
        "volumes": [
          "./:/app"
        ],
        "depends_on": {
          "db": {
            "condition": "service_healthy"
          },
          "migrate": {
            "condition": "service_completed_successfully"
          }
        }
      },
      "migrate": {
        "image": "assistchat-api",
        "build": null,
        "ports": null,
        "env_file": ".env",
        "environment_keys": null,
        "volumes": [
          "./:/app"
        ],
        "depends_on": {
          "db": {
            "condition": "service_healthy"
          }
        }
      },
      "db": {
        "image": "postgres:16.9",
        "build": null,
        "ports": [
          "5432:5432"
        ],
        "env_file": null,
        "environment_keys": [
          "POSTGRES_DB",
          "POSTGRES_PASSWORD",
          "POSTGRES_USER"
        ],
        "volumes": [
          "assistchat_db:/var/lib/postgresql/data"
        ],
        "depends_on": null
      }
    }
  },
  "alembic": {
    "script_location": "src/alembic",
    "alembic_ini_present": true,
    "versions_dir_exists": true,
    "migrations_count": 9,
    "migrations": [
      {
        "file": "0c7d905c79ff_replace_account_id_with_resource_id_in_.py",
        "revision": "0c7d905c79ff",
        "down_revision": "2a2a919a38d6"
      },
      {
        "file": "165ab7be38b4_init_create_tg_accounts.py",
        "revision": "165ab7be38b4",
        "down_revision": null
      },
      {
        "file": "20250908_avito_flru_and_user_openai_key.py",
        "revision": "20250908_avito_flru",
        "down_revision": "c4af6c51f292"
      },
      {
        "file": "2a2a919a38d6_fix_resources_user_id_to_integer.py",
        "revision": "2a2a919a38d6",
        "down_revision": "7b3c9f3d28c3"
      },
      {
        "file": "38ab48e15002_add_messages_and_updates_seen.py",
        "revision": "38ab48e15002",
        "down_revision": "165ab7be38b4"
      },
      {
        "file": "6e79614b2f16_create_users.py",
        "revision": "6e79614b2f16",
        "down_revision": "38ab48e15002"
      },
      {
        "file": "70a3c3c0406a_add_tg_accounts_status.py",
        "revision": "70a3c3c0406a",
        "down_revision": "6e79614b2f16"
      },
      {
        "file": "7b3c9f3d28c3_create_resources_table.py",
        "revision": "7b3c9f3d28c3",
        "down_revision": "20250908_avito_flru"
      },
      {
        "file": "c4af6c51f292_add_owner_user_id_to_tg_accounts.py",
        "revision": "c4af6c51f292",
        "down_revision": "70a3c3c0406a"
      }
    ],
    "heads": [
      "0c7d905c79ff"
    ]
  },
  "fs": {
    "src_app": [
      {
        "name": "__init__.py",
        "is_dir": false,
        "size": 0
      },
      {
        "name": "__pycache__",
        "is_dir": true,
        "size": null
      },
      {
        "name": "dialogs",
        "is_dir": true,
        "size": null
      },
      {
        "name": "main.py",
        "is_dir": false,
        "size": 62769
      },
      {
        "name": "manager",
        "is_dir": true,
        "size": null
      },
      {
        "name": "models.py",
        "is_dir": false,
        "size": 86
      },
      {
        "name": "providers.py",
        "is_dir": false,
        "size": 16887
      },
      {
        "name": "static",
        "is_dir": true,
        "size": null
      },
      {
        "name": "templates",
        "is_dir": true,
        "size": null
      },
      {
        "name": "workers",
        "is_dir": true,
        "size": null
      }
    ],
    "src_alembic_versions": [
      {
        "name": ".gitkeep",
        "is_dir": false,
        "size": 2
      },
      {
        "name": "0c7d905c79ff_replace_account_id_with_resource_id_in_.py",
        "is_dir": false,
        "size": 1405
      },
      {
        "name": "165ab7be38b4_init_create_tg_accounts.py",
        "is_dir": false,
        "size": 2038
      },
      {
        "name": "20250908_avito_flru_and_user_openai_key.py",
        "is_dir": false,
        "size": 7138
      },
      {
        "name": "2a2a919a38d6_fix_resources_user_id_to_integer.py",
        "is_dir": false,
        "size": 1650
      },
      {
        "name": "38ab48e15002_add_messages_and_updates_seen.py",
        "is_dir": false,
        "size": 2751
      },
      {
        "name": "6e79614b2f16_create_users.py",
        "is_dir": false,
        "size": 3023
      },
      {
        "name": "70a3c3c0406a_add_tg_accounts_status.py",
        "is_dir": false,
        "size": 397
      },
      {
        "name": "7b3c9f3d28c3_create_resources_table.py",
        "is_dir": false,
        "size": 2931
      },
      {
        "name": "__pycache__",
        "is_dir": true,
        "size": null
      },
      {
        "name": "c4af6c51f292_add_owner_user_id_to_tg_accounts.py",
        "is_dir": false,
        "size": 949
      }
    ],
    "scripts": [
      {
        "name": "__pycache__",
        "is_dir": true,
        "size": null
      },
      {
        "name": "check_models.py",
        "is_dir": false,
        "size": 3965
      },
      {
        "name": "create_user.py",
        "is_dir": false,
        "size": 1386
      },
      {
        "name": "QR.py",
        "is_dir": false,
        "size": 2573
      },
      {
        "name": "setup_bot_structure.py",
        "is_dir": false,
        "size": 2683
      },
      {
        "name": "smoke_check.py",
        "is_dir": false,
        "size": 1634
      },
      {
        "name": "system_check.py",
        "is_dir": false,
        "size": 11086
      },
      {
        "name": "tmp",
        "is_dir": true,
        "size": null
      }
    ],
    "tmp": [
      {
        "name": "logo_amarant.tiff",
        "is_dir": false,
        "size": 11168480
      },
      {
        "name": "project_probe.py",
        "is_dir": false,
        "size": 8890
      },
      {
        "name": "project_report.json",
        "is_dir": false,
        "size": 9360
      },
      {
        "name": "tg_accounts.sql",
        "is_dir": false,
        "size": 1586
      },
      {
        "name": "tmp",
        "is_dir": true,
        "size": null
      }
    ]
  },
  "db_schema": {
    "error": "OperationalError('(psycopg.OperationalError) [Errno 11001] getaddrinfo failed')"
  },
  "warnings": []
}