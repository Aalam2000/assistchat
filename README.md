–î–∞, –≤–∏–∂—É ‚Äî –≤ Markdown –≤—Å—Ç–∞–ª–æ ¬´–≤ –æ–¥–Ω—É —Å—Ç—Ä–æ—á–∫—É¬ª, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤ –±–ª–æ–∫–µ –∫–æ–¥–∞ —è –Ω–µ —É–∫–∞–∑–∞–ª —è–∑—ã–∫ –∏–ª–∏ –±—ã–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–±–µ–ª–∞–º–∏. –ß—Ç–æ–±—ã –∫—Ä–∞—Å–∏–≤–æ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–æ—Å—å, –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω—ã–π –±–ª–æ–∫ **—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –æ—Ç—Å—Ç—É–ø–æ–≤**.

–í–æ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤—Å—Ç–∞–Ω–µ—Ç —Ä–æ–≤–Ω–æ —Ç–∞–∫, –∫–∞–∫ —É –≤–∞—Å –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ —Ñ–∞–π–ª–æ–≤–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞:

```markdown
# üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ `assistchat`

```text
assistchat/
‚îú‚îÄ‚îÄ .github/
‚îÇ   ‚îî‚îÄ‚îÄ workflows/
‚îÇ       ‚îî‚îÄ‚îÄ deploy.yml              # CI/CD workflow
‚îÇ
‚îú‚îÄ‚îÄ branding/                       # –°—Ç–∏–ª–∏ –æ—Ç–≤–µ—Ç–æ–≤, –±—Ä–µ–Ω–¥-–º–∞—Ç–µ—Ä–∏–∞–ª—ã
‚îÇ   ‚îî‚îÄ‚îÄ style_profile.md
‚îÇ
‚îú‚îÄ‚îÄ docker/
‚îÇ   ‚îî‚îÄ‚îÄ app/
‚îÇ       ‚îî‚îÄ‚îÄ Dockerfile              # Docker-–æ–±—Ä–∞–∑ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ
‚îú‚îÄ‚îÄ scripts/                        # Python-—É—Ç–∏–ª–∏—Ç—ã (seed, –æ–Ω–±–æ—Ä–¥–∏–Ω–≥, –ª–æ–≥–≥–µ—Ä, —Ä–µ—Å–ø–æ–Ω–¥–µ—Ä)
‚îÇ   ‚îú‚îÄ‚îÄ create_user.py
‚îÇ   ‚îú‚îÄ‚îÄ seed_tg_account.py
‚îÇ   ‚îú‚îÄ‚îÄ onboard_tg_session.py
‚îÇ   ‚îú‚îÄ‚îÄ tg_user_dm_logger.py
‚îÇ   ‚îî‚îÄ‚îÄ tg_user_dm_responder.py
‚îÇ
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ alembic/                    # –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ versions/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ env.py
‚îÇ   ‚îú‚îÄ‚îÄ app/                       # –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (API, –º–æ–¥–µ–ª–∏)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ static/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ mess.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.html
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ models.py
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ common/                     # –û–±—â–∏–µ —Å–µ—Ä–≤–∏—Å—ã (config, DB)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ db.py
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ integrations/               # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (Telegram, OpenAI –∏ –¥—Ä.)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ telegram_client.py
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ models/                     # SQLAlchemy-–º–æ–¥–µ–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tg_account.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ message.py
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ observability/              # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–µ—Ç—Ä–∏–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ logging.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ metrics.py
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ runners/                    # –¢–æ—á–∫–∏ –∑–∞–ø—É—Å–∫–∞ (–±–æ—Ç—ã –∏ —Å–µ—Ä–≤–∏—Å—ã)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ run_tg_dm.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ run_web.py
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ runtime/                    # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞: –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π, —è–∑—ã–∫, –ø–∞–º—è—Ç—å
‚îÇ       ‚îú‚îÄ‚îÄ language.py
‚îÇ       ‚îú‚îÄ‚îÄ memory.py
‚îÇ       ‚îî‚îÄ‚îÄ message_handler.py
‚îÇ‚îÇ
‚îî‚îÄ‚îÄ tests/                          # –ê–≤—Ç–æ—Ç–µ—Å—Ç—ã
    ‚îú‚îÄ‚îÄ test_api.py
    ‚îî‚îÄ‚îÄ test_tg.py
```

---

## üîπ –ö—Ä–∞—Ç–∫–æ –ø–æ —Å–ª–æ—è–º

- **scripts/** ‚Üí Python-—É—Ç–∏–ª–∏—Ç—ã (seed, –æ–Ω–±–æ—Ä–¥–∏–Ω–≥, –ª–æ–≥–≥–µ—Ä, —Ä–µ—Å–ø–æ–Ω–¥–µ—Ä).  
- **src/app/** ‚Üí –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (API, –º–æ–¥–µ–ª–∏).  
- **src/common/** ‚Üí –æ–±—â–∏–µ —Å–µ—Ä–≤–∏—Å—ã (config, DB).  
- **src/integrations/** ‚Üí –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (Telegram, OpenAI).  
- **src/models/** ‚Üí SQLAlchemy-–º–æ–¥–µ–ª–∏ (`tg_account`, `message`).  
- **src/observability/** ‚Üí –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–µ—Ç—Ä–∏–∫–∏.  
- **src/runners/** ‚Üí —Ç–æ—á–∫–∏ –∑–∞–ø—É—Å–∫–∞ (–±–æ—Ç –∏ —Å–µ—Ä–≤–∏—Å—ã).  
- **src/runtime/** ‚Üí –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞: –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π, —è–∑—ã–∫, –ø–∞–º—è—Ç—å.  
- **alembic/** ‚Üí –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã.  
- **branding/** ‚Üí —Å—Ç–∏–ª–∏—Å—Ç–∏–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤.  
- **docker/** ‚Üí Dockerfile.  
```

---

–¢–∞–∫–æ–π –±–ª–æ–∫ –≤—Å—Ç–∞–Ω–µ—Ç –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –∏ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –∫–∞–∫ –¥–µ—Ä–µ–≤–æ.
–•–æ—Ç–∏—Ç–µ, —è —Å—Ä–∞–∑—É –¥–æ–±–∞–≤–ª—é —Å–ª–µ–¥–æ–º —Å–µ–∫—Ü–∏—é **"üöÄ –ö–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –ø–æ—à–∞–≥–æ–≤–æ"** –≤ —Ç–æ–º –∂–µ —Å—Ç–∏–ª–µ –¥–ª—è README?



# assistchat - –ü–û–î–°–ö–ê–ó–ö–ò

**1Ô∏è‚É£ –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ —Å –Ω—É–ª—è –∏ –∑–∞–ø—É—Å–∫**

```bash
cd /var/www/assistchat
docker compose down --remove-orphans
docker compose up -d --build

** –ï—Å–ª–∏ –∑–∞–ø—É—Å—Ç–∏–ª –≤ —Ñ–æ–Ω–µ 
    docker compose up -d
** –°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Å—Ä–∞–∑—É
docker compose logs -f
** –°–º–æ—Ç—Ä–µ—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker compose logs -f tg_user
```

* `--remove-orphans` —É–¥–∞–ª—è–µ—Ç –ª–∏—à–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ `docker-compose.yml`.
* `--build` –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑—ã –ø–æ Dockerfile.

---

**2Ô∏è‚É£ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏**

```bash
cd /var/www/assistchat
docker compose restart
```

---

**3Ô∏è‚É£ –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤**

```bash
cd /var/www/assistchat
docker compose down
```

> –≠—Ç–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç –∏ —É–¥–∞–ª–∏—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –Ω–æ –æ—Å—Ç–∞–≤–∏—Ç –æ–±—Ä–∞–∑—ã –∏ volume'—ã.

---

**4Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞**

```bash
cd /var/www/assistchat
docker compose ps
```

**5Ô∏è‚É£ –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤**

```bash
docker compose logs -f
# –∏–ª–∏ —Ç–æ–ª—å–∫–æ —Å–µ—Ä–≤–∏—Å–∞ api
docker compose logs -f api
```

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–æ–º–∞
docker volume ls
```
---

---

## üîé –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (Postgres)

–î–ª—è –≤—Ö–æ–¥–∞ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä Postgres –∏ —Ä–∞–±–æ—Ç—ã —Å SQL –∏—Å–ø–æ–ª—å–∑—É–µ–º psql:

```bash
# –í–æ–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å Postgres
docker exec -it assistchat-db-1 psql -U postgres -d assistchat

# –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã
\dt

# –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ö–µ–º—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ + —Ç–∏–ø—ã —Å—Ç–æ–ª–±—Ü–æ–≤)
\d –∏–º—è_—Ç–∞–±–ª–∏—Ü—ã

# –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
\l

# –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –¥—Ä—É–≥—É—é –±–∞–∑—É
\c –∏–º—è_–±–∞–∑—ã

# –í—ã–ø–æ–ª–Ω–∏—Ç—å SQL-–∑–∞–ø—Ä–æ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—ã–≤–µ—Å—Ç–∏ –ø–µ—Ä–≤—ã–µ 10 —Å—Ç—Ä–æ–∫ —Ç–∞–±–ª–∏—Ü—ã tg_account)
SELECT * FROM tg_account LIMIT 10;

# –í—ã–π—Ç–∏ –∏–∑ psql
\q


alembic_version
messages
updates_seen
tg_accounts
